<div class="row">
    <div class="col-12">
        <div class="card card-signin my-0">
            <div class="card-header bg-warning rounded-top">
                <h3 class="title-page text-secondary">บันทึกคำขออนุมัติไปเป็นวิทยากร</h3>
                <input type="hidden" class="form-control" [(ngModel)]="r.request_type">
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-5 offset-md-7">
                        <div class="form-group row">
                            <label class="col-4 col-form-label text-right">ส่วนราชการ</label>
                            <div class="col-8">
                                <input type="text" class="form-control" placeholder="ชื่อส่วนราชการ"
                                    [(ngModel)]="r.governmentA" [disabled]="!editable_flag">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-4 col-form-label text-right">เลขที่หนังสือ</label>
                            <div class="col-8">
                                <input type="text" class="form-control" placeholder="เลขที่หนังสือ"
                                    [(ngModel)]="r.bookNum" [disabled]="!editable_flag">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-4 col-form-label text-right">ลงวันที่</label>
                            <div class="col-8">
                                <input type="text" class="form-control" placeholder="ลงวันที่" bsDatepicker
                                    [bsConfig]="dateConfig" [(ngModel)]="date" [disabled]="!editable_flag">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group row">
                            <label class="col-sm-4 col-md-1 col-form-label">เรียน</label>
                            <div class="col col-sm-8 col-md-6">
                                <select class="form-control" [(ngModel)]="r.sendTo" [disabled]="!editable_flag">
                                    <option>คณบดี คณะวิทยาศาสตร์และเทคโนโลยี (ผ่านหัวหน้าสาขาวิชา/หัวหน้างาน)</option>
                                    <option>คณบดี คณะวิทยาศาสตร์และเทคโนโลยี</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="card card-signin my-0 mb-3">
                    <div class="card-header  rounded-top">
                        <h5 class="title-page text-secondary">รายละเอียดการเชิญไปเป็นวิทยากร</h5>
                        <!-- <p>From data : {{r.org_name}}</p> -->
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group row">
                                    <label class="col-sm-4 col-md-2 col-form-label">หน่วยงานผู้เชิญ</label>
                                    <div class="col-sm-8 col-md-10">
                                        <input type="text" class="form-control" placeholder="หน่วยงานผู้เชิญ"
                                            [(ngModel)]="r.org_name" [disabled]="!editable_flag">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-sm-4 col-md-2 col-form-label">ที่อยู่</label>
                                    <div class="col-sm-8 col-md-10">
                                        <input type="text" class="form-control" placeholder="ที่อยู่"
                                            [(ngModel)]="r.address" [disabled]="!editable_flag">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-sm-4 col-md-2 col-form-label">จังหวัด</label>
                                    <div class="col col-sm-8 col-md-4">
                                        <select class="form-control" [(ngModel)]="r.province"
                                            [disabled]="!editable_flag">
                                            <option>----- กรุณาระบุจังหวัด -----</option>
                                            <option *ngFor="let pv of Province" value="{{pv.value}}">{{pv.display}}
                                            </option>
                                        </select>
                                    </div>
                                    <label class="col-sm-4 col-md-1 col-form-label">โทรศัพท์</label>
                                    <div class="col col-sm-8 col-md-5">
                                        <input type="text" class="form-control" placeholder="โทรศัพท์"
                                            [(ngModel)]="r.tel" [disabled]="!editable_flag">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-sm-4 col-md-2 col-form-label">หัวเรื่องบรรยาย</label>
                                    <div class="col-sm-8 col-md-10">
                                        <input type="text" class="form-control" placeholder="หัวเรื่องบรรยาย"
                                            [(ngModel)]="r.topic" [disabled]="!editable_flag">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-sm-4 col-md-2 col-form-label">กลุ่มผู้เข้าฟัง</label>
                                    <div class="col col-sm-8 col-md-5">
                                        <select class="form-control" [(ngModel)]="r.audience"
                                            [disabled]="!editable_flag">
                                            <option value="น.ศ. ปริญญาตรี">นศ.ปริญญาตรี</option>
                                            <option value="น.ศ. ปริญญาโท">นศ.ปริญญาโท</option>
                                            <option value="น.ศ. ปริญญาเอก">นศ.ปริญญาเอก</option>
                                            <option value="บุคคลทั่วไป">บุคคลทั่วไป</option>
                                            <option value="นักวิจัย">นักวิจัย</option>
                                            <option value="หน่วยงานราชการ">หน่วยงานราชการ</option>
                                            <option value="หน่วยงานเอกชน">หน่วยงานเอกชน</option>
                                            <option value="ภาคอุตสาหกรรม">ภาคอุตสาหกรรม</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card card-signin my-0 mb-3">
                    <div class="card-header  rounded-top">
                        <h5 class="title-page text-secondary">กำหนดการ</h5>
                    </div>
                    <div class="card-body">
                        <!--Form บันทึกกำหนดการ -->
                        <div class="card card-signin my-0">
                            <div class="card-header  rounded-top">
                                <div class="form-group row">
                                    <div class="col">
                                        <h5 class="title-page text-secondary">รายการกำหนดการ</h5>
                                    </div>
                                    <div class="col">
                                        <button type="submit" class="btn btn-warning btn-sm float-right"
                                            (click)="callAddNewRow()" [disabled]="!editable_flag">
                                            <i class="fa fa-plus text-danger" aria-hidden="true"></i> เพิ่มกำหนดการ
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group row">
                                            <ag-grid-angular style="width: 100%; height: 500px; font-size: medium;"
                                                class="ag-theme-balham" [rowData]="rowData" [columnDefs]="columnDefs"                                                
                                                [defaultColDef]="defaultColDef" (rowClicked)="onRowClicked($event)"
                                                (gridReady)="onGridReady($event)" >
                                            </ag-grid-angular>
                                            <!-- (gridReady)="onGridReady($event)"
                                                    (firstDataRendered)="onFirstDataRendered($event)" -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card card-signin my-0 mb-3" *ngIf="showApprove">
                    <div class="card-header  rounded-top">
                        <h5 class="title-page text-secondary">การอนุมัติ</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-12">

                                <div class="form-group row">
                                    <label class="col-sm-4 col-md-2 col-form-label">ผลการอนุมัติ</label>
                                    <div class="col-sm-8 col-md-10">
                                        <!-- <input type="text" class="form-control" placeholder="หน่วยงานผู้เชิญ"
                                                [(ngModel)]="r.org_name" [disabled]="!editable_flag"> -->
                                        <div class="custom-control custom-radio">
                                            <input type="radio" class="custom-control-input" id="defaultChecked"
                                                name="defaultExampleRadios" checked>
                                            <label class="custom-control-label" for="defaultChecked">อนุมัติ</label>
                                        </div>

                                        <div class="custom-control custom-radio">
                                            <input type="radio" class="custom-control-input" id="defaultUnchecked"
                                                name="defaultExampleRadios">
                                            <label class="custom-control-label"
                                                for="defaultUnchecked">ไม่อนุมัติ</label>
                                        </div>

                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-4 col-md-2 col-form-label">ความคิดเห็น</label>
                                    <div class="col-sm-8 col-md-10">
                                        <!-- <input type="text" class="form-control" placeholder="ที่อยู่"
                                            [(ngModel)]="r.address" [disabled]="!editable_flag"> -->

                                        <textarea class="col col-sm-8 col-md-12" [(ngModel)]="r.studentList"></textarea>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group row">
                                <button type="button" class="btn btn-primary col-md-2 offset-md-4"
                                    (click)="saveData()">บันทึกคำขออนุมัติ</button>
                                <button type="button" class="btn btn-secondary col-md-2 offset-md-1"
                                    (click)="onClose()">ยกเลิกคำขออนุมัติ
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<ng-template #template let-modal class="modal fade">
    <div class="modal-content">
        <div class="modal-body px-0 py-0">
            <schedule-form [scheduleItem]="scheduleItem" [modalRef]="bsModalRef" [openForm]="openForm"
                [editable_flag]="editable_flag" (sendBack)="onSendBack($event)" ></schedule-form>
        </div>
    </div>
</ng-template>